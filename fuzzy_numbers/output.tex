\begin{Verbatim}[commandchars=\\\{\}]
\PY{c}{#!/usr/bin/python}
\PY{k+kn}{import} \PY{n+nn}{pylab}



\PY{k}{class} \PY{n+nc}{FuzzyNumber}\PY{p}{:}

  \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}init\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{left}\PY{p}{,} \PY{n}{peak}\PY{p}{,} \PY{n}{right}\PY{p}{)}\PY{p}{:}
    \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{peak} \PY{o}{=} \PY{n}{peak}
    \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{=} \PY{n}{left}
    \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{=} \PY{n}{right}
    \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{all}\PY{o}{=}\PY{p}{[}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{peak}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right}\PY{p}{]}

  \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}add\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{other}\PY{p}{)}\PY{p}{:}
    \PY{n}{a} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{+} \PY{n}{other}\PY{o}{.}\PY{n}{left}
    \PY{n}{b} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{peak} \PY{o}{+} \PY{n}{other}\PY{o}{.}\PY{n}{peak}
    \PY{n}{c} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{+} \PY{n}{other}\PY{o}{.}\PY{n}{right}
    \PY{k}{return} \PY{n}{FuzzyNumber}\PY{p}{(}\PY{n}{a}\PY{p}{,} \PY{n}{b}\PY{p}{,} \PY{n}{c}\PY{p}{)}

  \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}sub\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{other}\PY{p}{)}\PY{p}{:}
    \PY{n}{a} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{-} \PY{n}{other}\PY{o}{.}\PY{n}{left}
    \PY{n}{b} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{peak} \PY{o}{-} \PY{n}{other}\PY{o}{.}\PY{n}{peak}
    \PY{n}{c} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{peak} \PY{o}{-} \PY{n}{other}\PY{o}{.}\PY{n}{peak}
    \PY{k}{return} \PY{n}{FuzzyNumber}\PY{p}{(}\PY{n}{a}\PY{p}{,} \PY{n}{b}\PY{p}{,} \PY{n}{c}\PY{p}{)}

  \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}mul\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{other}\PY{p}{)}\PY{p}{:}
    \PY{n}{a} \PY{o}{=} \PY{n+nb}{min}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{right}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{right}\PY{p}{)}
    \PY{n}{b} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{peak} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{peak}
    \PY{n}{c} \PY{o}{=} \PY{n+nb}{max}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{right}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{*} \PY{n}{other}\PY{o}{.}\PY{n}{right}\PY{p}{)}
    \PY{k}{return} \PY{n}{FuzzyNumber}\PY{p}{(}\PY{n}{a}\PY{p}{,} \PY{n}{b}\PY{p}{,} \PY{n}{c}\PY{p}{)}

  \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}div\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{,} \PY{n}{other}\PY{p}{)}\PY{p}{:}
    \PY{k}{if} \PY{p}{(}\PY{n}{other}\PY{o}{.}\PY{n}{left} \PY{o}{!=} \PY{l+m+mi}{0} \PY{o+ow}{and} \PY{n}{other}\PY{o}{.}\PY{n}{peak} \PY{o}{!=} \PY{l+m+mi}{0} \PY{o+ow}{and} \PY{n}{other}\PY{o}{.}\PY{n}{right} \PY{o}{!=} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{:}
      \PY{n}{a} \PY{o}{=} \PY{n+nb}{min}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{right}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{right}\PY{p}{)}
      \PY{n}{b} \PY{o}{=} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{peak} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{peak}
      \PY{n}{c} \PY{o}{=} \PY{n+nb}{max}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{right}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{left}\PY{p}{,} \PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right} \PY{o}{/} \PY{n}{other}\PY{o}{.}\PY{n}{right}\PY{p}{)}
      \PY{k}{return} \PY{n}{FuzzyNumber}\PY{p}{(}\PY{n}{a}\PY{p}{,} \PY{n}{b}\PY{p}{,} \PY{n}{c}\PY{p}{)}

  \PY{k}{def} \PY{n+nf}{tuple}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{)}\PY{p}{:}
     \PY{k}{return} \PY{n+nb}{tuple}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{all}\PY{p}{)}

  \PY{k}{def} \PY{n+nf}{\PYZus{}\PYZus{}str\PYZus{}\PYZus{}}\PY{p}{(}\PY{n+nb+bp}{self}\PY{p}{)}\PY{p}{:}
    \PY{k}{return} \PY{l+s}{'}\PY{l+s}{FuzzyNumber(}\PY{l+s}{'} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{left}\PY{p}{)} \PY{o}{+} \PY{l+s}{'}\PY{l+s}{, }\PY{l+s}{'} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{peak}\PY{p}{)} \PY{o}{+} \PY{l+s}{'}\PY{l+s}{, }\PY{l+s}{'} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb+bp}{self}\PY{o}{.}\PY{n}{right}\PY{p}{)} \PY{o}{+} \PY{l+s}{'}\PY{l+s}{)}\PY{l+s}{'}

  \PY{n}{\PYZus{}\PYZus{}repr\PYZus{}\PYZus{}} \PY{o}{=} \PY{n}{\PYZus{}\PYZus{}str\PYZus{}\PYZus{}}

\PY{n}{a} \PY{o}{=} \PY{n}{FuzzyNumber}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{9}\PY{p}{)}
\PY{n}{b} \PY{o}{=} \PY{n}{FuzzyNumber}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}

\PY{c}{#plotting}

\PY{k}{def} \PY{n+nf}{add\PYZus{}number}\PY{p}{(}\PY{n}{r}\PY{p}{,} \PY{n}{fig}\PY{p}{,} \PY{n}{ax}\PY{p}{)}\PY{p}{:}
  \PY{n}{n} \PY{o}{=} \PY{n}{r}\PY{o}{.}\PY{n}{tuple}\PY{p}{(}\PY{p}{)}
  \PY{n}{DATA} \PY{o}{=} \PY{p}{(}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{n}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{,}
      \PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{n}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{,}
      \PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{n}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{)}\PY{p}{)}

  \PY{p}{(}\PY{n}{y}\PY{p}{,}\PY{n}{x}\PY{p}{)} \PY{o}{=} \PY{n+nb}{zip}\PY{p}{(}\PY{o}{*}\PY{n}{DATA}\PY{p}{)}

  \PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{x}\PY{p}{,} \PY{n}{y}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s}{'}\PY{l+s}{o}\PY{l+s}{'}\PY{p}{)}
  \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{xrange}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{DATA}\PY{p}{)}\PY{p}{)}\PY{p}{:}
    \PY{p}{(}\PY{n}{x}\PY{p}{,}\PY{n}{y}\PY{p}{)} \PY{o}{=} \PY{n}{DATA}\PY{p}{[}\PY{n}{i}\PY{p}{]}

\PY{k}{if}\PY{p}{(}\PY{n}{\PYZus{}\PYZus{}name\PYZus{}\PYZus{}}\PY{o}{==}\PY{l+s}{'}\PY{l+s}{\PYZus{}\PYZus{}main\PYZus{}\PYZus{}}\PY{l+s}{'}\PY{p}{)}\PY{p}{:}
  \PY{n}{fig} \PY{o}{=} \PY{n}{pylab}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{p}{)}
  \PY{n}{ax} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{l+m+mi}{111}\PY{p}{)}
  \PY{k}{for} \PY{n}{n} \PY{o+ow}{in} \PY{p}{[}\PY{n}{a}\PY{p}{,}\PY{n}{b}\PY{p}{,} \PY{n}{a}\PY{o}{+}\PY{n}{b}\PY{p}{]}\PY{p}{:} \PY{c}{#, a-b, a*b, a/b]:}
    \PY{n}{add\PYZus{}number}\PY{p}{(}\PY{n}{n}\PY{p}{,}\PY{n}{fig}\PY{p}{,}\PY{n}{ax}\PY{p}{)}
  \PY{n}{pylab}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
